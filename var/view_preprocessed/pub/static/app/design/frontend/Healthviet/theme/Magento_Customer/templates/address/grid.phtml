<?php /** * Copyright Â© Magento, Inc. All rights reserved. * See COPYING.txt for license details. */ /** @var \Magento\Customer\Block\Address\Grid $block */ $customerAddressView = $block->getData('customer_address'); /** @var $viewModel \Healthviet\Customer\ViewModel\Address\CustomAttributes */ $viewModel = $block->getData('view_model'); ?> <div class="block block-addresses-list"><div class="block-title"><strong><?= $block->escapeHtml(__('Additional Address Entries')) ?></strong></div><div class="block-content"><?php if ($_pAddsses = $block->getAdditionalAddresses()) : ?> <?php foreach ($_pAddsses as $address) : ?> <?php $customAttributes = $address->getCustomAttributes() ?> <div class="box-content"><span><?= $address->getPrefix() ?></span> <span><?= $address->getFirstname() ?></span> <span><?= $address->getMiddlename() ?></span> <span><?= $address->getLastname() ?></span> <span><?= $address->getPrefix() ?></span><br/><span><?= implode(', ', $address->getStreet()) ?></span>, <span><?= $viewModel->getCustomAttributeValue('ward', $customAttributes) ?></span>, <span><?= $viewModel->getCustomAttributeValue('district', $customAttributes) ?></span>, <span><?= $address->getRegion()->getRegion() ?>, <span><?= $block->getCountryByCode($address->getCountryId()) ?></span><br/><span><?= $address->getTelephone() ?></span><br/><div class="box-actions"><a class="action delete" href="#" role="delete-address" data-address="<?= $block->escapeHtmlAttr($address->getId()) ?>"><span><?= $block->escapeHtml(__('Delete')) ?></span></a> <a class="action edit" href="<?= $block->escapeUrl($block->getAddressEditUrl($address->getId())) ?>"><span><?= $block->escapeHtml(__('Edit')) ?></span></a></div></div><?php endforeach; ?> <?php else : ?> <p class="empty"><?= $block->escapeHtml(__('You have no other address entries in your address book.')) ?></p><?php endif ?></div></div><div class="actions-toolbar"><div class="primary"><button type="button" role="add-address" title="<?= $block->escapeHtmlAttr(__('Add New Address')) ?>" class="action primary add"><span><?= $block->escapeHtml(__('+ Add New Address')) ?></span></button></div><div class="secondary"><a class="action back" href="<?= $block->escapeUrl($block->getUrl('customer/account')) ?>"><span><?= $block->escapeHtml(__('Back')) ?></span></a></div></div><script type="text/x-magento-init">
    {
        "*": {
            "address": {
                "deleteAddress": "a[role='delete-address']",
                "deleteUrlPrefix": "<?= $block->escapeJs($block->escapeUrl($block->getDeleteUrl())) ?>id/",
                "addAddress": "button[role='add-address']",
                "addAddressLocation": "<?= $block->escapeJs($block->escapeUrl($block->getAddAddressUrl())) ?>"
            }
        }
    }</script>